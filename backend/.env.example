# Database
# Development (SQLite - default for local dev)
DATABASE_URL="file:./dev.db"

# Staging/Production (PostgreSQL)
# DATABASE_URL="postgresql://username:password@host:5432/twinship_db?schema=public&connection_limit=10&pool_timeout=10"

# Production with pgBouncer (connection pooling)
# DATABASE_URL="postgresql://username:password@pgbouncer-host:6432/twinship_db?schema=public&pgbouncer=true"

# Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_ACQUIRE_TIMEOUT=60000

# Server
PORT=3000
NODE_ENV=development

# JWT Configuration
JWT_SECRET="your-secret-key-min-32-chars-replace-in-production"
JWT_ACCESS_TOKEN_EXPIRES="15m"
JWT_REFRESH_TOKEN_EXPIRES="7d"

# Bcrypt
BCRYPT_ROUNDS=12

# Email Service (for verification/reset)
EMAIL_FROM="noreply@twinship.app"
EMAIL_SERVICE="sendgrid"
SENDGRID_API_KEY="your-sendgrid-key"

# Security
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION="30m"

# CORS
ALLOWED_ORIGINS="http://localhost:8081,exp://localhost:8081"

# Rate Limiting
RATE_LIMIT_WINDOW="15m"
RATE_LIMIT_MAX=100

# Redis Configuration for Horizontal Scaling
REDIS_ENABLED=true
REDIS_URL="redis://localhost:6379"
# OR individual components:
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_USERNAME=default
# REDIS_PASSWORD=your_redis_password

# Redis Security (Production)
# REDIS_TLS=true
# REDIS_TLS_CERT=/path/to/client.crt
# REDIS_TLS_KEY=/path/to/client.key
# REDIS_TLS_CA=/path/to/ca.crt
# REDIS_TLS_REJECT_UNAUTHORIZED=true

# Redis Adapter Configuration
REDIS_ADAPTER_KEY=socket.io
REDIS_REQUESTS_TIMEOUT=5000

# Server Instance ID (for multi-server deployments)
SERVER_ID=backend-1

# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_API_VERSION=2024-12-18.acacia

# Stripe Product Configuration
STRIPE_BASIC_PRICE_ID=price_basic_monthly
STRIPE_PREMIUM_PRICE_ID=price_premium_monthly

# RevenueCat Integration
REVENUECAT_API_KEY=your_revenuecat_api_key
REVENUECAT_WEBHOOK_SECRET=your_revenuecat_webhook_secret